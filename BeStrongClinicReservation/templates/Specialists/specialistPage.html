{% extends 'Layout/base.html' %}
{% block content %}

<link rel="stylesheet" href="static/styleExe/Specialists/specialists.css">

<div class="doctors-container">
    <div class="page-header">
        <h1>Our Medical Specialists</h1>
        <p>Find the right healthcare professional for your needs</p>
    </div>

    <div class="search-filter">
        <div class="search-box">
            <input type="text" placeholder="Search doctors by name or specialty..." id="searchInput">
        </div>
        <div class="filter-dropdown">
            <select id="specialtyFilter">
                <option value="">All Specialties</option>
                <option value="Cardiology">Cardiology</option>
                <option value="Dermatology">Dermatology</option>
                <option value="Neurology">Neurology</option>
                <option value="Orthopedics">Orthopedics</option>
                <option value="Pediatrics">Pediatrics</option>
                <option value="Psychiatry">Psychiatry</option>
            </select>
        </div>
    </div>

    <div class="doctors-grid">
        {% for sp in specialists %}
        <div class="doctor-card" data-specialty="{{sp.chungChi}}">
            <div class="doctor-header">
                <div class="doctor-avatar">üßë‚Äç‚öïÔ∏è</div>
                <div class="doctor-info">
                    <h3>{{sp.name}}</h3>
                    <div class="specialty">{{sp.chungChi}}</div>
                </div>
            </div>
            <div class="doctor-details">
                <div class="detail-item">
                    <span class="icon">üéì</span>
                    <span>H·ªçc v·ªã: {{sp.HocVi}}</span>
                </div>
                <div class="detail-item">
                    <span class="icon">üåü</span>
                    <span>Kinh Nghi·ªám: {{sp.KinhNghiem}}</span>
                </div>
            </div>
            <div class="availability available">Available Today</div>
            <div class="doctor-actions">
                <button class="btn btn-primary">Book Appointment</button>
                <button class="btn btn-secondary">
                    <a class=" bg-transparent text-danger"
                       href='/specialists/{{ sp.id_doctor }}'>View Profile</a>
                </button>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<script>
    document.getElementById('searchInput').addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const doctors = document.querySelectorAll('.doctor-card');

        doctors.forEach(doctor => {
            const name = doctor.querySelector('h3').textContent.toLowerCase();
            const specialty = doctor.querySelector('.specialty').textContent.toLowerCase();

            if (name.includes(searchTerm) || specialty.includes(searchTerm)) {
                doctor.style.display = 'block';
            } else {
                doctor.style.display = 'none';
            }
        });
    });

    document.getElementById('specialtyFilter').addEventListener('change', function() {
        const filterValue = this.value;
        const doctors = document.querySelectorAll('.doctor-card');

        doctors.forEach(doctor => {
            const specialty = doctor.getAttribute('data-specialty');

            if (filterValue === '' || specialty === filterValue) {
                doctor.style.display = 'block';
            } else {
                doctor.style.display = 'none';
            }
        });
    });

    // Add click handlers for buttons
    document.querySelectorAll('.btn-primary').forEach(button => {
        button.addEventListener('click', function() {
            alert('Booking appointment... (This would integrate with your booking system)');
        });
    });
</script>

{% endblock %}